name: Dr.Mario 64 (North America)
sha1: a130d3622ce40e0158db2da4247101f6e92206fc
options:
  basename: drmario64
  target_path: baserom.z64
  ld_script_path: build/drmario64.ld
  base_path: .
  compiler: GCC
  find_file_boundaries: True
  header_encoding: ASCII
  platform: n64
  undefined_funcs_auto: True
  undefined_funcs_auto_path: build/auto/undefined_funcs_auto.ld
  undefined_syms_auto: True
  undefined_syms_auto_path: build/auto/undefined_syms_auto.ld
  symbol_addrs_path:
    - linker_scripts/libultra_symbols.ld
    - linker_scripts/hardware_regs.ld
    - linker_scripts/symbol_addrs.txt
    - linker_scripts/junk_symbols.txt
  asm_path: asm
  src_path: src
  build_path: build
  asset_path: bin
  # extensions_path: tools/splat_ext
  # mips_abi_float_regs: o32 # kmc does not like it :c
  # section_order: [".text", ".data", ".rodata", ".bss"]
  # auto_all_sections: [".data", ".rodata", ".bss"]
  do_c_func_detection: True
  o_as_suffix: True
  # gfx_ucode: 
  mnemonic_ljust: 12
  rom_address_padding: True
  # shiftable: False
  # create_elf_section_list_auto: False # ?
  verbose: False
  dump_symbols: True
  generated_c_preamble: |
    #include "ultra64.h"
    #include "include_asm.h"
  asm_inc_header:
  use_legacy_include_asm: False
segments:
  - name: header
    type: header
    start: 0x000000
  - name: ipl3
    type: bin
    start: 0x000040
  - name: entry
    type: code
    start: 0x001000
    vram: 0x80000400
    subsegments:
      - [0x001000, asm, entry]
  - name: boot
    type: code
    start: 0x001060
    vram: 0x80000460
    bss_size: 0x18DE0
    subsegments:
      - [0x001060, c, boot/boot_main]
      - [0x0010F0, c, boot/10F0]
      - [0x001220, c, boot/1220]
      - [0x002B90, c, boot/2B90]
      - [0x002F80, c, boot/2F80]

      # Start of libultra?
      - [0x0030A0, asm, conteepprobe]
      - [0x003120, asm, conteeplongwrite]
      - [0x003210, asm, conteeplongread]
      - [0x003280, asm, pimgr] # some unnamed symbols
      - [0x003410, asm, epirawdma]
      - [0x003600, asm, epidma]
      - [0x0036A0, asm, cartrominit]
      - [0x003820, asm, devmgr]
      - [0x003BE0, asm] # flib did not find this one
      - [0x003CD0, asm, pidma]
      - [0x003D80, asm, aigetlen]
      - [0x003D90, asm, aigetstat]
      - [0x003DA0, asm, aisetfreq]
      - [0x003EC0, asm, aisetnextbuf]
      - [0x003F60, asm, env]
      - [0x004C10, asm, sl]
      - [0x004CC0, asm, heapinit]

      - [0x004D00, asm, synthesizer] # haven't checked
      - [0x005340, asm, syndelete] # haven't checked
      - [0x005350, asm, synaddplayer] # haven't checked
      - [0x0053A0, asm, synallocvoice] # haven't checked
      - [0x005580, asm, synstopvoice] # haven't checked
      - [0x005600, asm, synstartvoice] # haven't checked
      - [0x0056A0, asm, synsetpitch] # haven't checked
      - [0x005730, asm, synsetvol] # haven't checked
      - [0x0057F0, asm, synsetfxmix] # haven't checked
      - [0x005890, asm, synsetpan] # haven't checked
      - [0x005920, asm, synallocfx] # haven't checked

      - [0x0059C0, asm, invaldcache]
      - [0x005A70, asm, writebackdcacheall]
      - [0x005AA0, c, ../lib/ultralib/src/io/contquery]
      - [0x005B40, asm]
      - [0x005D20, asm]
      - [0x006030, asm]
      - [0x0060F0, asm]
      - [0x006100, asm]
      - [0x006250, asm, ortho]
      - [0x0064D0, asm]
      - [0x006850, asm]
      - [0x006B70, asm]
      - [0x006D70, asm]
      - [0x0071A0, .hasm, ../lib/ultralib/src/libc/bzero]
      - [0x007240, asm]
      - [0x0072D0, asm]
      - [0x007300, asm]
      - [0x007440, asm]
      - [0x007570, asm]
      - [0x007750, asm]
      - [0x007990, asm]
      - [0x0079B0, asm]
      - [0x007A00, asm]
      - [0x0084C0, asm]
      - [0x0085B0, asm]
      - [0x0086A0, asm]
      - [0x008770, asm]
      - [0x008890, asm, stopthread]
      - [0x008950, asm]
      - [0x008990, asm]
      - [0x0089E0, asm]
      - [0x008A70, asm]
      - [0x008A90, asm]
      - [0x008BC0, asm]
      - [0x008EE0, asm]
      - [0x008FA0, asm]
      - [0x008FE0, asm]
      - [0x009020, asm]
      - [0x009360, asm]
      - [0x0093C0, asm]
      - [0x009410, asm]
      - [0x009580, asm]
      - [0x0095D0, asm]
      - [0x009620, asm]
      - [0x009930, asm]
      - [0x0099A0, asm]
      - [0x009A00, asm]
      - [0x009A60, asm]
      - [0x009AE0, asm]
      - [0x009B60, asm]
      - [0x009C60, asm]
      - [0x009D20, asm]
      - [0x009D80, asm]
      - [0x009E60, asm]
      - [0x009EC0, asm, initialize]
      - [0x00A260, asm]
      - [0x00A830, hasm, exceptasm] # can't use ultralib's exceptasm yet
      - [0x00B1A0, hasm]
      - [0x00B230, asm]
      - [0x00B360, asm]
      - [0x00B5C0, asm]
      - [0x00B730, asm]
      - [0x00B750, asm]
      - [0x00BF80, asm]
      - [0x00CA90, asm]
      - [0x00CBA0, asm]
      - [0x00CBC0, asm]
      - [0x00CFE0, asm]
      - [0x00DB80, asm]
      - [0x00DCA0, asm]
      - [0x00DCE0, hasm, invalicache]
      - [0x00DD60, hasm, writebackdcache]
      - [0x00DDE0, asm]
      - [0x00DE80, hasm, getcause]
      - [0x00DE90, hasm, getcount]
      - [0x00DEA0, hasm, getsr]
      - [0x00DEB0, asm]
      - [0x00DEC0, asm]
      - [0x00DF10, asm]
      - [0x00DFF0, asm]
      - [0x00E040, asm]
      - [0x00E090, asm]
      - [0x00E170, asm]
      - [0x00E1D0, asm]
      - [0x00E220, asm, vi]
      - [0x00E330, asm]
      - [0x00E3A0, asm]
      - [0x00E3C0, asm, si]
      # end of libultra?

      - [0x00E3E0, asm]
      - [0x00E5C0, asm]
      - [0x00E800, asm]
      - [0x00E8B0, asm]
      - [0x00EBC0, asm]
      - [0x00ED90, data]
      - [0x00F650, data, pimgr]
      - [0x00F680, data, cartrominit]
      - [0x00F690, data]
      - [0x00F6A0, data, aisetnextbuf]
      - [0x00F6B0, data, env]
      - [0x00F7B0, data, sl]
      - [0x00F7C0, data]
      - [0x0111E0, data, initialize]
      - [0x011200, data, exceptasm]
      - [0x011230, data]
      - [0x0113E0, data, vi]
      - [0x011450, data]
      # not sure about the rodata start
      - [0x011640, rodata, devmgr]
      - [0x011660, rodata, aisetfreq]
      - [0x011670, rodata, env] # a const array in the middle of doubles?
      - [0x011760, rodata]
      - [0x0117E0, rodata]
      - [0x011880, rodata]
      - [0x0118B0, rodata, exceptasm]
      - [0x011900, rodata]
      - [0x0119C0, rodata]
      - [0x0119F0, rodata]
      - [0x011A50, rodata]
      - start: 0x011A60
        name: 80010E60
        type: bss
        vram: 0x80010E60
      - start: 0x011A60
        name: cartrominit
        type: bss
        vram: 0x8001F9B0
      - start: 0x011A60
        name: 8001FA30
        type: bss
        vram: 0x8001FA30
  - name: segment_11A60
    type: code
    start: 0x011A60
    vram: 0x80029C40
    subsegments:
      - [0x011A60, .data, segment_11A60/11A60]
  - name: segment_11A70
    type: code
    start: 0x011A70
    vram: 0x80029C50
    subsegments:
      - [0x011A70, data]
  - name: segment_4F980
    type: bin
    start: 0x04F980
  - [0x32CCA0] # after this there's just padding
