name: Dr.Mario 64 (North America)
sha1: a130d3622ce40e0158db2da4247101f6e92206fc
options:
  basename: drmario64
  target_path: baserom.z64
  ld_script_path: build/drmario64.ld
  base_path: .
  compiler: GCC
  find_file_boundaries: True
  header_encoding: ASCII
  platform: n64
  undefined_funcs_auto: True
  undefined_funcs_auto_path: build/auto/undefined_funcs_auto.ld
  undefined_syms_auto: True
  undefined_syms_auto_path: build/auto/undefined_syms_auto.ld
  symbol_addrs_path:
    - linker_scripts/libultra_symbols.ld
    - linker_scripts/hardware_regs.ld
    - linker_scripts/symbol_addrs.txt
    - linker_scripts/junk_symbols.txt
  asm_path: asm
  src_path: src
  build_path: build
  asset_path: bin
  # extensions_path: tools/splat_ext
  # mips_abi_float_regs: o32 # kmc does not like it :c
  # section_order: [".text", ".data", ".rodata", ".bss"]
  # auto_all_sections: [".data", ".rodata", ".bss"]
  do_c_func_detection: True
  o_as_suffix: True
  # gfx_ucode: 
  mnemonic_ljust: 12
  rom_address_padding: True
  # shiftable: False
  # create_elf_section_list_auto: False # ?
  verbose: False
  dump_symbols: True
  generated_c_preamble: |
    #include "ultra64.h"
    #include "include_asm.h"
  asm_inc_header:
  use_legacy_include_asm: False
  create_asm_dependencies: True
segments:
  - name: header
    type: header
    start: 0x000000
  - name: ipl3
    type: bin
    start: 0x000040
  - name: entry
    type: code
    start: 0x001000
    vram: 0x80000400
    subsegments:
      - [0x001000, asm, entry]
  - name: boot
    type: code
    start: 0x001060
    vram: 0x80000460
    bss_size: 0x18DE0
    subsegments:
      - [0x001060, c, boot/boot_main]
      - [0x0010F0, c, boot/10F0]
      - [0x001220, c, boot/1220]
      - [0x002B90, c, boot/2B90]
      - [0x002F80, c, boot/2F80]

      # Start of libultra?
      - [0x0030A0, asm, conteepprobe] # c
      - [0x003120, asm, conteeplongwrite] # c
      - [0x003210, asm, conteeplongread] # c
      - [0x003280, asm, pimgr] # some unnamed symbols # c
      - [0x003410, asm, epirawdma] # c
      - [0x003600, asm, epidma] # c
      - [0x0036A0, asm, cartrominit] # c
      - [0x003820, asm, devmgr] # c
      - [0x003BE0, asm, piacs]
      - [0x003CD0, asm, pidma] # c
      - [0x003D80, asm, aigetlen] # c
      - [0x003D90, asm, aigetstat] # c
      - [0x003DA0, asm, aisetfreq] # c
      - [0x003EC0, asm, aisetnextbuf] # c
      - [0x003F60, asm, env] # c
      - [0x004C10, asm, sl] # c
      - [0x004CC0, asm, heapinit] # c

      - [0x004D00, asm, synthesizer] # c
      - [0x005340, asm, syndelete] # c
      - [0x005350, asm, synaddplayer] # c
      - [0x0053A0, asm, synallocvoice] # c
      - [0x005580, asm, synstopvoice] # c
      - [0x005600, asm, synstartvoice] # c
      - [0x0056A0, asm, synsetpitch] # c
      - [0x005730, asm, synsetvol] # c
      - [0x0057F0, asm, synsetfxmix] # c
      - [0x005890, asm, synsetpan] # c
      - [0x005920, asm, synallocfx] # c

      - [0x0059C0, hasm, invaldcache]
      # - [0x0059C0, .hasm, ../lib/ultralib/src/os/invaldcache] # ultralib doesn't match
      - [0x005A70, .hasm, ../lib/ultralib/src/os/writebackdcacheall]
      - [0x005AA0, c, ../lib/ultralib/src/io/contquery]
      - [0x005B40, asm, contreaddata] # c
      - [0x005D20, asm, controller] # c
      - [0x006030, asm, contsetch] # c
      - [0x006090, c, ../lib/ultralib/src/os/virtualtophysical]
      - [0x0060F0, .hasm, ../lib/ultralib/src/gu/sqrtf]
      - [0x006100, c, ../lib/ultralib/src/gu/cosf]
      - [0x006250, asm, ortho] # c
      - [0x0064D0, asm, perspective] # c
      - [0x006850, asm, rotaterpy] # c
      - [0x006B70, c, ../lib/ultralib/src/gu/sinf]
      - [0x006D10, c, ../lib/ultralib/src/gu/sins]

      - [0x006D70, hasm, bcmp]
      # - [0x006D70, .hasm, ../lib/ultralib/src/libc/bcmp]
      - [0x006E80, hasm, bcopy]
      # - [0x006E80, .hasm, ../lib/ultralib/src/libc/bcopy]

      - [0x0071A0, .hasm, ../lib/ultralib/src/libc/bzero]
      - [0x007240, asm, string] # c
      - [0x0072D0, asm, createmesgqueue] # c
      - [0x007300, asm, jammesg] # c
      - [0x007440, asm, recvmesg] # c
      - [0x007570, asm, sendmesg] # c
      - [0x0076A0, asm, seteventmesg] # c
      - [0x007750, asm, sptask] # c
      - [0x007990, asm, sptaskyield] # c
      - [0x0079B0, asm, sptaskyielded] # c
      - [0x007A00, asm, sched] # c
      - [0x008410, asm, sirawdma] # c
      - [0x0084C0, asm, siacs]
      - [0x0085B0, asm, createthread] # c
      - [0x008680, asm, getthreadpri] # c
      - [0x0086A0, asm, setthreadpri] # c
      - [0x008770, asm, startthread] # c
      - [0x008890, asm, stopthread] # c
      - [0x008950, asm, thread] # c
      - [0x008990, asm, yieldthread] # c
      - [0x0089E0, asm, gettime] # c
      - [0x008A70, asm, settime] # c
      - [0x008A90, asm, settimer] # c
      - [0x008BC0, asm, timerintr] # c
      - [0x008EE0, hasm, probetlb]
      - [0x008FA0, asm, vigetcurrframebuf]
      - [0x008FE0, asm, vigetnextframebuf]
      - [0x009020, asm, vimgr] # c
      - [0x009360, asm, visetevent] # c
      - [0x0093C0, asm, visetmode] # c
      - [0x009410, asm, visetspecial] # c
      - [0x009580, asm, visetyscale] # c
      - [0x0095D0, asm, viswapbuf] # c
      - [0x009620, asm, viswapcontext] # c
      - [0x009930, asm, viblack] # c
      - [0x009990, asm, nops_9990]
      - [0x0099A0, asm, mtxident] # c
      - [0x009A00, asm, mtxidentf] # c
      - [0x009A60, asm, mtxf2l] # c
      - [0x009AE0, asm, mtxl2f] # c
      - [0x009B60, asm, mtxcatf] # c
      - [0x009C60, asm, scale] # c
      - [0x009D20, asm, scalef] # c
      - [0x009D80, asm, translate] # c
      - [0x009E60, asm, translatef] # c
      - [0x009EC0, asm, initialize] # c
      - [0x00A260, asm, conteepread]
      - [0x00A480, asm, conteepwrite] # c
      - [0x00A830, hasm, exceptasm] # can't use ultralib's exceptasm yet
      - [0x00B1A0, hasm, interrupt]
      - [0x00B230, hasm, setintmask]
      - [0x00B2D0, asm, setglobalintmask] # c
      - [0x00B310, asm, resetglobalintmask] # c
      - [0x00B360, asm, pirawdma] # c
      - [0x00B430, asm, pigetcmdq] # c
      - [0x00B450, asm, epirawread] # c
      - [0x00B5C0, asm, epirawwrite] # c
      - [0x00B730, asm, ai] # c
      - [0x00B750, asm, drvrnew] # c
      - [0x00BF80, asm, load] # c
      - [0x00CA90, asm, auxbus] # c
      - [0x00CBA0, asm, filter] # c
      - [0x00CBC0, asm, mainbus] # c
      - [0x00CD30, asm, resample] # c
      - [0x00CFE0, asm, reverb] # c
      - [0x00DB80, asm, save] # c
      - [0x00DC50, asm, heapalloc] # c
      - [0x00DCA0, asm, copy] # c # ?
      - [0x00DCE0, hasm, invalicache]
      - [0x00DD60, hasm, writebackdcache]
      - [0x00DDE0, asm, dpsetnextbuf] # c
      - [0x00DE80, hasm, getcause]
      - [0x00DE90, hasm, getcount]
      - [0x00DEA0, hasm, getsr]
      - [0x00DEB0, hasm, setcompare]
      - [0x00DEC0, hasm, setfpccsr]
      - [0x00DED0, hasm, setsr]
      - [0x00DEE0, hasm, setwatchlo]
      - [0x00DEF0, asm, sp] # c
      - [0x00DF10, asm, spgetstat] # c
      - [0x00DF20, asm, spsetstat] # c
      - [0x00DF30, asm, spsetpc] # c
      - [0x00DF60, asm, sprawdma] # c
      - [0x00DFF0, asm, sirawread] # c
      - [0x00E040, asm, sirawwrite] # c
      - [0x00E090, asm, destroythread] # c
      - [0x00E170, hasm, maptlbrdb]
      - [0x00E1D0, hasm, unmaptlball]
      - [0x00E220, asm, vi] # c
      - [0x00E330, c, ../lib/ultralib/src/io/vigetcurrcontext]
      - [0x00E340, asm, nops_E340]
      - [0x00E3A0, c, ../lib/ultralib/src/io/dp]
      - [0x00E3C0, c, ../lib/ultralib/src/io/si]
      # end of libultra?

      - [0x00E3E0, asm]
      - [0x00E5C0, asm]
      - [0x00E800, asm]
      - [0x00E8B0, asm]
      - [0x00EBC0, asm]

      - [0x00ED90, data]
      - [0x00F650, data, pimgr]
      - [0x00F680, data, cartrominit]
      - [0x00F690, data]
      - [0x00F6A0, data, aisetnextbuf]
      - [0x00F6B0, data, env]
      - [0x00F7B0, data, sl]
      - [0x00F7C0, data]
      - [0x00F7E0, .data, ../lib/ultralib/src/gu/sins]
      - [0x00FFE0, data]
      - [0x0111E0, data, initialize]
      - [0x011200, data, exceptasm]
      - [0x011230, data]
      - [0x0113E0, data, vi]
      - [0x011450, data]
      # not sure about the rodata start
      - [0x011640, rodata, devmgr]
      - [0x011660, rodata, aisetfreq]
      - [0x011670, rodata, env] # a const array in the middle of doubles?
      - [0x011760, rodata]
      - [0x011780, .rodata, ../lib/ultralib/src/gu/cosf]
      - [0x0117E0, rodata]
      - [0x011820, .rodata, ../lib/ultralib/src/gu/sinf]
      - [0x011880, rodata]
      - [0x0118B0, rodata, exceptasm]
      - [0x011900, rodata]
      - [0x0119C0, rodata]
      - [0x0119F0, rodata]
      - [0x011A40, .rodata, ../lib/ultralib/src/gu/libm_vals]
      - [0x011A50, rodata]
      - start: 0x011A60
        name: 80010E60
        type: bss
        vram: 0x80010E60
      - start: 0x011A60
        name: pimgr
        type: bss
        vram: 0x800191E0
      - start: 0x011A60
        name: 8001A3B0
        type: bss
        vram: 0x8001A3B0
      - start: 0x011A60
        name: cartrominit
        type: bss
        vram: 0x8001F9B0
      - start: 0x011A60
        name: 8001FA30
        type: bss
        vram: 0x8001FA30
  - name: segment_11A60
    type: code
    start: 0x011A60
    vram: 0x80029C40
    subsegments:
      - [0x011A60, .data, segment_11A60/11A60]
  - name: segment_11A70
    type: code
    start: 0x011A70
    vram: 0x80029C50
    subsegments:
      - [0x011A70, data]
  - name: segment_4F980
    type: bin
    start: 0x04F980
  - [0x32CCA0] # after this there's just padding
